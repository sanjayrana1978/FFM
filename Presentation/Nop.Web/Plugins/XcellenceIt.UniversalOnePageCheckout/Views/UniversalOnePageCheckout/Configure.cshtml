@*// *************************************************************************
    // *                                                                       *
    // * Universal One Page Checkout Plugin for nopCommerce                    *
    // * Copyright (c) Xcellence-IT. All Rights Reserved.                      *
    // *                                                                       *
    // *************************************************************************
    // *                                                                       *
    // * Email: info@nopaccelerate.com                                         *
    // * Website: http://www.nopaccelerate.com                                 *
    // *                                                                       *
    // *************************************************************************
    // *                                                                       *
    // * This  software is furnished  under a license  and  may  be  used  and *
    // * modified  only in  accordance with the terms of such license and with *
    // * the  inclusion of the above  copyright notice.  This software or  any *
    // * other copies thereof may not be provided or  otherwise made available *
    // * to any  other  person.   No title to and ownership of the software is *
    // * hereby transferred.                                                   *
    // *                                                                       *
    // * You may not reverse  engineer, decompile, defeat  license  encryption *
    // * mechanisms  or  disassemble this software product or software product *
    // * license.  Xcellence-IT may terminate this license if you don't comply *
    // * with  any  of  the  terms and conditions set forth in  our  end  user *
    // * license agreement (EULA).  In such event,  licensee  agrees to return *
    // * licensor  or destroy  all copies of software  upon termination of the *
    // * license.                                                              *
    // *                                                                       *
    // * Please see the  License file for the full End User License Agreement. *
    // * The  complete license agreement is also available on  our  website at *
    // * http://www.nopaccelerate.com/enterprise-license                       *
    // *                                                                       *
    // *************************************************************************
*@

@model UniversalOnePageCheckoutConfigurationModel
@using Nop.Plugin.XcellenceIt.UniversalOnePageCheckout.Models;
@using Nop.Web.Framework.UI;

@{
    const string hideInfoBlockAttributeName = "UniversalOnePageCheckout.ConfigurePage";
    var hideInfoBlock = await genericAttributeService.GetAttributeAsync<bool>(await workContext.GetCurrentCustomerAsync(), hideInfoBlockAttributeName);
}

@{
    //page title
    ViewBag.Title = T("XcellenceIt.Plugin.Misc.UniversalOnePageCheckout.Title").Text;

    Layout = "_AdminLayout";
    NopHtml.SetActiveMenuItemSystemName("XcellenceIt.Plugin.Misc.UniversalOnePageCheckout.Configure");
}
@{
    <div class="content-header clearfix">
        <h1 class="float-left">
            @T("XcellenceIt.Plugin.Misc.UniversalOnePageCheckout.Title")
        </h1>
    </div>
    @Html.AntiForgeryToken()
    @if (!@Model.IsLicenseActive)
    {
        <div class="col-sm-12 col-md-8 col-lg-8" style="padding-top: 110px;float: none;margin: 0 auto;">
            <div id="registerForm">
                <div class="content-header clearfix" style="padding:0">
                    <h1 class="float-left">
                        @T("XcellenceIt.Plugin.Misc.UniversalOnePageCheckout.Tab.General")
                    </h1>
                </div>
                <div>
                    @Html.Raw(@Model.RegistrationForm)
                </div>
            </div>
        </div>
    }
    else
    {
        <div class="content">
            <div class="form-horizontal">
                <div>
                    @Html.Raw(@Model.LicenseInformation)
                </div>
                <form asp-controller="UniversalOnePageCheckout" asp-action="Configure" method="post">
                    <div style="clear:both;"></div>
                    <div>
                        @await Component.InvokeAsync("StoreScopeConfiguration")
                    </div>

                    <nop-cards id="onepahechckout-configuration-cards">
                        <nop-card asp-name="card-configuration-general" asp-icon="fa fa-info" asp-title="@T("XcellenceIt.Plugin.Misc.UniversalOnePageCheckout.Tab.General")" asp-hide-block-attribute-name="@hideInfoBlockAttributeName" asp-hide="@hideInfoBlock" asp-advanced="false">

                            <div class="card-body">
                                <div class="card card-default">
                                    <div class="card-body">
                                        <div class="form-group row">
                                            <div class="col-md-3">
                                                @*<nop-override-store-checkbox asp-for="EnableUniversalOnePageCheckout_OverrideForStore" asp-input="EnableUniversalOnePageCheckout" asp-store-scope="@Model.ActiveStoreScopeConfiguration" />*@
                                                <nop-label asp-for="EnableUniversalOnePageCheckout" />
                                            </div>
                                            <div class="col-md-9">
                                                <nop-editor asp-for="EnableUniversalOnePageCheckout" />
                                                <span asp-validation-for="EnableUniversalOnePageCheckout"></span>
                                            </div>
                                        </div>

                                        <div class="form-group row">
                                            <div class="col-md-3">
                                                <nop-override-store-checkbox asp-for="DisableShoppingCart_OverrideForStore" asp-input="DisableShoppingCart" asp-store-scope="@Model.ActiveStoreScopeConfiguration" />
                                                <nop-label asp-for="DisableShoppingCart" />
                                            </div>
                                            <div class="col-md-9">
                                                <nop-editor asp-for="DisableShoppingCart" />
                                            </div>
                                        </div>

                                        @*<div class="form-group row">
                                            <div class="col-md-3">
                                                <nop-override-store-checkbox asp-for="EnableEstimateShippng_OverrideForStore" asp-input="EnableEstimateShippng" asp-store-scope="@Model.ActiveStoreScopeConfiguration" />
                                                <nop-label asp-for="EnableEstimateShippng" />
                                            </div>
                                            <div class="col-md-9">
                                                <nop-editor asp-for="EnableEstimateShippng" />
                                            </div>
                                        </div>*@

                                        <div class="form-group row">
                                            <div class="col-md-3">
                                                <nop-override-store-checkbox asp-for="EnableDiscountBox_OverrideForStore" asp-input="EnableDiscountBox" asp-store-scope="@Model.ActiveStoreScopeConfiguration" />
                                                <nop-label asp-for="EnableDiscountBox" />
                                            </div>
                                            <div class="col-md-9">
                                                <nop-editor asp-for="EnableDiscountBox" />
                                            </div>
                                        </div>

                                        <div class="form-group row">
                                            <div class="col-md-3">
                                                <nop-override-store-checkbox asp-for="EnableGiftCardBox_OverrideForStore" asp-input="EnableGiftCardBox" asp-store-scope="@Model.ActiveStoreScopeConfiguration" />
                                                <nop-label asp-for="EnableGiftCardBox" />
                                            </div>
                                            <div class="col-md-9">
                                                <nop-editor asp-for="EnableGiftCardBox" />
                                            </div>
                                        </div>

                                        @*<div class="form-group row">
                                            <div class="col-md-3">
                                                <nop-override-store-checkbox asp-for="EnableOrderNoteMessage_OverrideForStore" asp-input="EnableOrderNoteMessage" asp-store-scope="@Model.ActiveStoreScopeConfiguration" />
                                                <nop-label asp-for="EnableOrderNoteMessage" />
                                            </div>
                                            <div class="col-md-9">
                                                <nop-editor asp-for="EnableOrderNoteMessage" />
                                            </div>
                                        </div>

                                        <div class="form-group row">
                                            <div class="col-md-3">
                                                <nop-override-store-checkbox asp-for="DefaultBillingCountryId_OverrideForStore" asp-input="DefaultBillingCountryId" asp-store-scope="@Model.ActiveStoreScopeConfiguration" />
                                                <nop-label asp-for="DefaultBillingCountryId" />
                                            </div>
                                            <div class="col-md-9">
                                                <nop-select asp-for="DefaultBillingCountryId" asp-items="Model.AvailableBillingCountries" />
                                            </div>
                                        </div>

                                        <div class="form-group row">
                                            <div class="col-md-3">
                                                <nop-override-store-checkbox asp-for="DefaultShippingCountryId_OverrideForStore" asp-input="DefaultShippingCountryId" asp-store-scope="@Model.ActiveStoreScopeConfiguration" />
                                                <nop-label asp-for="DefaultShippingCountryId" />
                                            </div>
                                            <div class="col-md-9">
                                                <nop-select asp-for="DefaultShippingCountryId" asp-items="Model.AvailableBillingCountries" />
                                            </div>
                                        </div>*@

                                        <div class="form-group row">
                                            <div class="col-md-3">
                                                &nbsp;
                                            </div>
                                            <div class="col-md-9">
                                                <input type="submit" name="save" class="btn bg-blue" value="@T("Admin.Common.Save")" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </nop-card>
                    </nop-cards>
                </form>
            </div>
        </div>
        }
    }